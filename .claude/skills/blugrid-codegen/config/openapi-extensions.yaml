# config/openapi-extensions.yaml
# Schema for custom x- extensions used in code generation

extensions:
  # Info-level extensions
  info:
    x-base-package:
      type: string
      description: Base package name for generated code
      example: net.blugrid.core.organisation
    x-group:
      type: string
      description: Gradle group ID
      example: net.blugrid.api
    x-module-name:
      type: string
      description: Base module name
      example: core-organisation-api

  # Schema-level extensions (on each entity)
  schema:
    x-resource-type:
      type: string
      enum: [UnscopedResource, TenantResource, BusinessUnitResource, UserResource]
      description: Resource scoping strategy
      default: UnscopedResource
    x-auditable:
      type: boolean
      description: Whether to add audit fields
      default: false
    x-searchable:
      type: boolean
      description: Whether entity is searchable
      default: false
    x-db-table:
      type: string
      description: Override table name
    x-db-schema:
      type: string
      description: Database schema name

  # Property-level extensions (on each field)
  property:
    x-db-domain:
      type: string
      description: PostgreSQL domain type
      example: t_text
    x-kotlin-type:
      type: string
      description: Override Kotlin type
      example: LocalDateTime
    x-generated:
      type: boolean
      description: Field is auto-generated (id, uuid)
      default: false
    x-nullable:
      type: boolean
      description: Override nullability

  # Path-level extensions
  path:
    x-grpc-service:
      type: string
      description: gRPC service name
    x-graphql-type:
      type: string
      enum: [Query, Mutation, Subscription]
      description: GraphQL operation type
